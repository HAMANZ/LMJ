@using Anz.LMJ.BLO.ContentObjects;
@using Anz.LMJ.BLO.LogicObjects.Submission
@{
    ViewBag.Title = "Get User";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<style>
    #content {
        text-align: right;
    }
</style>
<div id="main" role="main">
    <div id="ribbon" style="display: block;">
        <ol class="breadcrumb">
            <li>Home</li>
            <li>@ViewBag.Title</li>
        </ol>
    </div>
    <div id="content">
        <!-- row -->
        <div class="row">
            @using (Html.BeginForm("EditUser", "Admin", FormMethod.Post, new { @class = "EditUser", enctype = "multipart/form-data" }))
            {
                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <label class="col-sm-12 control-label">
                            <strong>FName</strong>
                        </label>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <input class="form-control input__beautify" type="text" value="@ViewBag.User.FirstName" name="FirstName" />
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <label class="col-sm-12 control-label">
                            <strong>LName</strong>
                        </label>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <input class="form-control input__beautify" type="text" value="@ViewBag.User.LastName" name="LastName" />
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <label class="col-sm-12 control-label">
                            <strong>Affiliation</strong>
                        </label>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <input class="form-control input__beautify" type="text" value="@ViewBag.User.Affiliation" name="Affiliation" />
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <label class="col-sm-12 control-label">
                            <strong>Username</strong>
                        </label>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <input class="form-control input__beautify" type="text" value="@ViewBag.User.Username" name="Username" />
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Role</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <select multiple class="form-control select2 " name="RoleIds" id="RoleIds">
                                @foreach (DataType role in (List<DataType>)(@ViewBag.roles))
                                {

                                    foreach (int id in (List<int>)(@ViewBag.User.RoleIds))
                                    {
                                        if (@id == @role.Id)
                                        {
                                            <option selected value="@role.Id">@role.Title</option>
                                        }

                                    }
                                    <option value="@role.Id">@role.Title</option>
                                }



                            </select>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Postion</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <select class="form-control " name="PositionId" id="PostionId">
                                <option value="">Select</option>
                                @foreach (DataType position in (List<DataType>)(ViewBag.position))
                                {
                                    string sel = "";

                                    if (@ViewBag.User.PositionId == @position.Id)
                                    {
                                        sel = "selected";
                                    }
                                    <option @sel value="@position.Id">@position.Title</option>
                                }
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Phone1</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" value="@ViewBag.User.TPhone1" name="TPhone1" />
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Phone2</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" value="@ViewBag.User.TPhone2" name="TPhone2" />
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Mobile1</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" value="@ViewBag.User.Mobile1" name="Mobile1" />
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Mobile2</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" value="@ViewBag.User.Mobile2" name="Mobile2" />
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Email1</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" value="@ViewBag.User.Email" name="Email" />
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Eamil2</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" value="@ViewBag.User.Email2" name="Email2" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>POB</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" name="Pob" value="@ViewBag.User.Pob" />
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>ORCID</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <input class="form-control input__beautify" type="text" name="Orcid" value="@ViewBag.User.Orcid" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>IsAdmin</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-1">
                        <div class="form-group">
                            <input type="checkbox" id="IsAdminchk" checked="@ViewBag.User.IsAdmin" value="@ViewBag.User.IsAdmin"  />
                            <input type="hidden" name="IsAdmin" id="IsAdmincheck" value="@ViewBag.User.IsAdmin" />
                        </div>
                    </div>
                    <div class="col-xs-5">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Degree's</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <select multiple class="form-control select2" name="degIds" id="DegreeIds">
                                @foreach (DataType role in (List<DataType>)(@ViewBag.degrees))
                                {

                                    foreach (int id in (List<int>)(@ViewBag.User.degIds))
                                    {
                                        if (@id == @role.Id)
                                        {
                                            <option selected value="@role.Id">@role.Title</option>
                                        }

                                    }
                                    <option  value="@role.Id">@role.Title</option>
                                }


                            </select>
                        </div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-xs-3 col-sm-2  col-lg-1">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Image</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <input type="file" name="PostedFileImage" id="imgInp" class="custom-file-input" style="width:50%;">
                        <input type="hidden" name="Image" id="BackGroundImage" id="imgInp" value="@ViewBag.User.Image" />
                        <img src="~/Images/Users/@ViewBag.User.Image" alt="img" width="50%" id="blah" accept="image/png,image/gif,image/jpeg">
                        <br />
                        <span>Recommended Size: 195*195</span>
                    </div>
                    <div class="col-xs-3 col-sm-2  col-lg-2">
                        <div class="form-group">
                            <label class="col-sm-12 control-label">
                                <strong>Desc</strong>
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-9 col-sm-4 col-md-4 col-lg-4">
                        <div class="form-group">
                            <textarea rows="5" cols="50" class="form-control input__beautify" type="text" name="Desc">@ViewBag.User.Desc</textarea>

                        </div>
                    </div>
                </div>
                <div class="col-sm-11">
                    <button type="submit" class="btn btn-sm btn-primary"> Publish </button>
                    <input type="hidden" name="Id" value="@ViewBag.User.Id" />
                </div>
            }
        </div>

    </div>

</div>
<script src="~/Scripts/cms/CmsJquery.js"></script>
<script src="~/Scripts/cms/Admin/jquery-3.3.1.js"></script>
<script>
    function chk() {
        if ($("#IsAdminchk").is(":checked")) {
            $("#IsAdmincheck").attr("value", "True");
        }
        else {
            $("#IsAdmincheck").attr("value", "False");
        }}
    $("document").ready(function () {
        chk();
        $('#IsAdminchk').change(function () {
            chk();
        });

    });

</script>